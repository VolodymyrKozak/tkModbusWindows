
ПРОЕКТ "ModbusMonitoring"
========================


1. Призначення
--------------
1.1. Моніторинг модбас-мережі з використанням Windows-комп'ютера.
Мережа модбас підключається на USB-порт. 
Здійснюється прийом і розпізнавання по валідному CRC всіх повідомлень, що циркулюють в мережі. 
Всі повідоблення для аналізу виводяться:

1) На консоль (буфер - послідовність байт виявлених в мережі і модбас повідоблення, виявлені в буфері).
2) В файл "D:\\C_OUTPUT.txt", те саме
3) На екран в вікно - чотири останні повідомлення за кожною адресою
з підсвіткою байтів які не співпадають в послідовних за часом повідомленнях із співпадаючими:
	адресою;
	довжиною повідоблення;
	кодом команди Модбас.
	
1.2 Надсилання повідомлень вручну від імені Master Modbus та отримання відповіді на них	

2. Iтерфейс користувача
-----------------------
2.1. Після запуску програми налаштуйте параметри Модбас, зокрема виберіть 
номер CОМ-порта (Налаштування)
2.2. З використанням меню здійснюється моніторинг мережі Модбас:
   Старт - 	відкривається компорт і починається моніторинг.
   			В разі отримання нового повідомлення воно виводиться на екран в рядок зі своєю адресою
   Пауза - 	призупиняється відображення в вікно нових повідомлень, хоча прийом їх продовжуєься,
   			повідомлення в мережі Модбас протоколюються на консоль і в файл 
   Продовжити - продовження моніторингу після паузи, в вікно не попадають повідомлення, що були отримані під час паузи
   Стоп  - припинення моніторингу.. Для запуску моніторингу - використовуйте старт.
2.3  Надсилання повідомлень:
	Надсилання - вручну відредагуйте повідомлення. Після натискання кнопки "Відправити" 
	здійнюється перевірка повідомлення і його відправка. очікується відповіть.
	В разі надходження відповіді вона виводиться під надісланим повідомленням, 
	в разі помилки - виводиться повідомлення про помилку

3. Структура програмного забезпечення:
	Вихідний код програмного забезпечення виконаний на GNU C в середовищі 
	System Workbench for STM32 ( https://www.st.com/en/development-tools/sw4stm32.html ) 
	MinGW ( http://www.mingw.org/ )
	
	і містить:
	файл   'winmain.c', основна функція, вхід в проект,
	папка 'mb_windows', файли с/h з функціями роботи з вікнами,
	     'a0_win_control.c/h' 
	     'a2_setting.c/h'
	     'a2_Tx_msg.c/h'
	     'a3_monitoringc/h' з допоміжним файлом a3_monitoringScroll.c
	     'tkIconBitMask.c' - бітова маска іконки ТОВ "Техноконт" 
	папка 'mb_funcs', файли с/h з функціями підготовки і обробки повідомлень Модбас. 
		 'tx_manual.c/h'
		 'tkRS232rxc/h'
		 'tb_base.c/h'
		  Файли  
	


	1) Бібліотека: RS-232, Author:  Teunis van Beelen, Url:     http://www.teuniz.net/RS-232/
	   опис див.файл doc.txt (папка mb_monitor/RS_232)
    2) Надбудова над бібліотекою RS-232 для моніторингу мережі з друком протоколу на консоль та в файл
    
    






http://zetcode.com/gui/winapi/main/
